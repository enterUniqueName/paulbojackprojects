<!DOCTYPE html>

<html lang="en" dir="ltr">

<head>

  <meta charset="utf-8">
  <title>Paul Bojack Projects: Your Amended Calendar</title>

  <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
  <link href='../global.css' rel='stylesheet'>
  <link href='calendar-random.css' rel='stylesheet'>

  <script src="./calendar_random.js"></script>

</head>

<body>

  <!-- home button -->
  <div id="home" class="home">

    <a href="javascript:history.back()">‚Üê</a>

  </div>

  <!-- camera -->
  <div id="cam_container" class="cam_container">

    <video autoplay="true" id="cam_element" class="cam_element" value="true" onloadedmetadata="calendar_function()"></video>

    <audio id="audio_element" src="assets/audio/Music_Roamin-Calendar.mp3" type="audio/mpeg"></audio>

  </div>

  <!-- project area -->
  <div id="calendar_container">

    <div id="blackout-grid-override" class="blackout-grid-override"></div>

    <div id="cal_grid" class="cal-grid">
      <!-- <div class="corner top left" style="border-right: none; border-bottom: none;">
        <svg>
          <line x1='0' y1='0' x2='100%' y2='100%' />
        </svg>
      </div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="corner top right" style="border-left: none; border-bottom: none;">
        <svg>
          <line x1='0' y1='100%' x2='100%' y2='0' />
        </svg>
      </div> -->

      <!-- <div  class="no-border-tb">&nbsp;</div> -->
      <div class="day no-border t l r border-color"><span id="day-zero" class="content"></span></div>
      <div class="day no-border t l r border-color"><span id="day-one" class="content"></span></div>
      <div class="day no-border t l r border-color"><span id="day-two" class="content"></span></div>
      <div class="day no-border t l r border-color"><span id="day-three" class="content"></span></div>
      <div class="day no-border t l r border-color"><span id="day-four" class="content"></span></div>
      <div class="day no-border t l r border-color"><span id="day-five" class="content"></span></div>
      <div class="day no-border t l r border-color"><span id="day-six" class="content"></span></div>
      <!-- <div class="no-border-tb">&nbsp;</div> -->

      <!-- <div class="no-border-tb">&nbsp;</div> -->
      <div class="no-border l border-color"><span id="date-zero" class="content"></span></div>
      <div class="border-color"><span id="date-one" class="content"></span></div>
      <div class="border-color"><span id="date-two" class="content"></span></div>
      <div class="border-color"><span id="date-three" class="content"></span></div>
      <div class="border-color"><span id="date-four" class="content"></span></div>
      <div class="border-color"><span id="date-five" class="content"></span></div>
      <div class="no-border r border-color"><span id="date-six" class="content"></span></div>
      <!-- <div class="no-border-tb">&nbsp;</div> -->

      <!-- <div class="no-border-tb">&nbsp;</div> -->
      <div class="no-border l border-color"><span id="date-seven" class="content"></span></div>
      <div class="border-color"><span id="date-eight" class="content"></span></div>
      <div class="border-color"><span id="date-nine" class="content"></span></div>
      <div class="border-color"><span id="date-ten" class="content"></span></div>
      <div class="border-color"><span id="date-eleven" class="content"></span></div>
      <div class="border-color"><span id="date-twelve"class="content"></span></div>
      <div class="no-border r border-color"><span id="date-thirteen" class="content"></span></div>
      <!-- <div class="no-border-tb">&nbsp;</div> -->

      <!-- <div class="no-border-tb">&nbsp;</div> -->
      <div class="no-border l border-color"><span  id="date-fourteen" class="content"></span></div>
      <div class="border-color"><span id="date-fifteen" class="content"></span></div>
      <div class="border-color"><span id="date-sixteen" class="content"></span></div>
      <div class="border-color"><span id="date-seventeen" class="content"></span></div>
      <div class="border-color"><span id="date-eighteen" class="content"></span></div>
      <div class="border-color"><span id="date-nineteen" class="content"></span></div>
      <div class="no-border r border-color"><span id="date-twenty" class="content"></span></div>
      <!-- <div class="no-border-tb">&nbsp;</div> -->

      <!-- <div class="no-border-tb">&nbsp;</div> -->
      <div class="no-border l border-color"><span id="date-twentyone" class="content"></span></div>
      <div class="border-color"><span id="date-twentytwo" class="content"></span></div>
      <div class="border-color"><span id="date-twentythree" class="content"></span></div>
      <div class="border-color"><span id="date-twentyfour" class="content"></span></div>
      <div class="border-color"><span id="date-twentyfive" class="content"></span></div>
      <div class="border-color"><span id="date-twentysix" class="content"></span></div>
      <div class="no-border r border-color"><span id="date-twentyseven" class="content"></span></div>
      <!-- <div class="no-border-tb">&nbsp;</div> -->

      <!-- <div class="no-border-tb">&nbsp;</div> -->
      <div class="no-border b l border-color"><span id="date-twentyeight" class="content"></span></div>
      <div class="no-border b border-color"><span id="date-twentynine" class="content"></span></div>
      <div class="no-border b border-color"><span id="date-thirty" class="content"></span></div>
      <div class="no-border b border-color"><span id="date-blank-1" class="content">&nbsp;</span></div>
      <div class="no-border b border-color"><span id="date-blank-2" class="content">&nbsp;</span></div>
      <div class="no-border b border-color"><span id="date-blank-3" class="content">&nbsp;</span></div>
      <div class="no-border b r border-color"><span id="date-blank-4" class="content">&nbsp;</span></div>
      <!-- <div class="no-border-tb">&nbsp;</div> -->

      <!-- <div class="corner bottom left" style="border-right: none; border-top: none;">
        <svg>
          <line x1='0' y1='100%' x2='100%' y2='0' />
        </svg>
      </div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="corner bottom right" style="border-left: none; border-top: none;">
        <svg>
          <line x1='0' y1='0' x2='100%' y2='100%' />
        </svg>
      </div> -->
    </div>
  </div>





  <script>

    //webcam function
    var video = document.querySelector("#cam_element");

    if (navigator.mediaDevices.getUserMedia) {
      navigator.mediaDevices.getUserMedia({video:true})
      .then(function (stream) {
        video.srcObject = stream;
        document.querySelector("cam_container").value="false";
      })
      .catch(function (err0r) {
        console.log("Something went wrong!");
      });
    }

    //project specific scripts

    var calGrid = document.getElementById("cal_grid");
    var nodes = document.getElementsByClassName("content");
    var borders = document.getElementsByClassName("border-color");
    var timer;

    function fadein_bg() {
      document.getElementById("calendar_container").classList.add("fadein_bg");
    }
    function fade_in() {
      calGrid.style.opacity = 1;
    }
    function fade_out() {
      calGrid.style.opacity = 0;
    }
    function blackout() {
      document.getElementById("calendar_container").classList.add("blackout");
      // Timeout to fade the grid out. 6 seconds of fade to black on the video, then 3 seconds of full opacity, then apply classname for 6 sec fade.
      setTimeout(function() {
        document.getElementById("blackout-grid-override").classList.add("blackout-override");
      }, 9000);
    }
    function playAudio() {
      document.getElementById("audio_element").play();
    }

    function randomizer(color) {
      for(var i = 0; i < nodes.length; i++){
        nodes[i].style.color = color;
      }
      for(var i = 0; i < borders.length; i++){
        borders[i].style.color = color;
      }
      shuffle(number_array);
      shuffle(day_array);
      assign_dates();
      assign_days();
      fade_in();
      setTimeout(fade_out, 7000);
      console.log(color);
    }

    function randomizer2(color) {
      for(var i = 0; i < nodes.length; i++){
        nodes[i].style.color = color;
      }
      for(var i = 0; i < borders.length; i++){
        borders[i].style.color = color;
      }
      shuffle(number_array);
      shuffle(day_array);
      assign_dates();
      assign_days();
      assign_blanks();
      fade_in();
      setTimeout(fade_out, 7000);
      console.log(color);
    }

    function randomizer3(color) {
      for(var i = 0; i < nodes.length; i++){
        nodes[i].style.color = color;
      }
      for(var i = 0; i < borders.length; i++){
        borders[i].style.color = color;
      }
      shuffle(number_array);
      shuffle(day_array);
      assign_dates();
      assign_days_as_numbers();
      assign_blanks();
      fade_in();
      setTimeout(fade_out, 7000);
      console.log(color);
    }

    function numberTimer() {
      console.log('start timer 1');
      setTimeout(randomizer, 0, "#1313AE"); //Blue
      setTimeout(randomizer, 10670, "#FFF200"); //Yellow
      setTimeout(randomizer, 21340, "#4112CA"); //Purple
      setTimeout(randomizer, 32010, "#FF5500"); //Orange
      // Removing infinite loop, hard coding times for next run
      setTimeout(randomizer, 42680, "#1313AE"); //Blue
      setTimeout(randomizer, 53350, "#FFF200"); //Yellow
      setTimeout(randomizer, 64020, "#4112CA"); //Purple
      // timer1 = setTimeout(numberTimer, 42680);
    }

    function addBlanksTimer() {
      console.log('start timer 2');
      //To account for overlap, adding orange at the beginning, basically as a spacer, but also changing the color rotation.
      setTimeout(randomizer2, 0, "#FF5500"); //Orange
      setTimeout(randomizer2, 10670, "#1313AE"); //Blue
      setTimeout(randomizer2, 21340, "#FFF200"); //Yellow
      setTimeout(randomizer2, 32010, "#4112CA"); //Purple
      // Removing infinite loop, hard coding times for next run
      setTimeout(randomizer2, 42680, "#FF5500"); //Orange
      setTimeout(randomizer2, 53350, "#1313AE"); //Blue
      setTimeout(randomizer2, 64020, "#FFF200"); //Yellow
      setTimeout(randomizer2, 74690, "#4112CA"); //Purple
      setTimeout(randomizer2, 85360, "#FF5500"); //Orange
      setTimeout(randomizer2, 96030, "#1313AE"); //Blue
      // timer2 = setTimeout(addBlanksTimer, 42680);
    }

    function addTextTimer() {
      console.log('start timer 3');
      //To account for overlap, adding starting with yellow at the beginning, changing the color rotation.
      setTimeout(randomizer3, 0, "#FFF200"); //Yellow
      setTimeout(randomizer3, 10670, "#4112CA"); //Purple
      setTimeout(randomizer3, 21340, "#FF5500"); //Orange
      setTimeout(randomizer3, 32010, "#1313AE"); //Blue
      // Removing infinite loop, hard coding times for next run
      setTimeout(randomizer3, 42680, "#FFF200"); //Yellow
      setTimeout(randomizer3, 53350, "#4112CA"); //Purple
      setTimeout(randomizer3, 64020, "#FF5500"); //Orange
      setTimeout(randomizer3, 74690, "#1313AE"); //Blue
      setTimeout(randomizer3, 85360, "#FFF200"); //Yellow
      setTimeout(randomizer3, 96030, "#4112CA"); //Purple
      setTimeout(randomizer3, 106700, "#FF5500"); //Orange
      //timer3 = setTimeout(addTextTimer, 42680);
    }

    function calendar_function() {
      assign_dates();
      setTimeout(function () {
        playAudio();
      }, 4000);
      setTimeout(function () {
        fadein_bg();
        numberTimer();
      }, 14500);
      setTimeout(function () {
        // clearTimeout(timer1);
        number_array.push('', '', '', '');
        fadein_bg();
        addBlanksTimer();
      }, 89000);
      setTimeout(function () {
        // clearTimeout(timer2);

        // let arr = number_array
        // for( var i = 0; i < arr.length; i++){ 
        //   if ( arr[i] === '') { 
        //     arr.splice(i, 1); 
        //   }
        // }
        // console.log(number_array)

        // const shape1 = '<img src="assets/image/Shape1.svg" >';
        // const shape1 = '<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 209 131" fill="currentColor" ><path d="M87.2,12.3L87.2,12.3c6,0,9,1.4,12.1,2.9c2.2,1.1,4.6,2.2,7.8,2.8c1.5,0.3,2.9,0.4,4.1,0.4c1.7,0,2.9-0.2,4.1-0.5c1.3-0.2,2.5-0.5,4.6-0.5c2.1,0,4.6,0.2,7.8,0.7c6.8,1,12.4,5.2,17.9,9.4c5.5,4.1,10.7,8,16.8,8.6c9.8,1,12.8,2.5,21.7,7.2l0.3,0.2c8.3,4.3,12,12.1,12,18c0,7-0.5,10.2-6.1,15.4c-2.4,2.2-4.4,4-6.4,5.7c-3.6,3.1-6.6,5.8-9.8,9.3c-2.8,3.2-3.7,6.4-4.3,9c-0.6,2.5-1.1,4.4-3.3,6.3c-4,3.6-12.2,6.4-23.2,7.9c-0.4,0.1-0.9,0.1-1.5,0.1c-3.9,0-9.8-1.3-16-2.6c-7.4-1.6-15.2-3.3-21.5-3.3c-0.5,0-0.9,0-1.4,0c-6.1,0.2-11.9,2.8-18,5.6c-7.1,3.2-14.5,6.5-23.2,6.5c-18.9-0.8-20-9.9-21.2-19.6c-0.4-2.9-0.7-5.7-1.6-8c-1.9-5-7.2-10.4-12.7-16.2c-5.1-5.3-10.3-10.8-12-14.9c-3.1-7.6-1.4-17.9,4-23.8c2.7-3,11.2-4.9,18.6-6.5c6.3-1.4,12.8-2.8,17.5-5.2c3.8-1.9,6.5-4.1,9.1-6.2c4.7-3.8,8.8-7.1,18.4-8.1C83.9,12.4,85.6,12.3,87.2,12.3 M87.2,8.3c-1.7,0-3.6,0.1-5.7,0.3c-16.3,1.8-18.9,9.7-29,14.8s-31,5.7-37.3,12.6s-8.6,18.6-4.7,28c3.8,9.4,21.3,22.5,24.6,31c3.3,8.6-2.2,29,26.5,30.2c17.3,0,29.4-11.6,41.5-12.1c0.4,0,0.8,0,1.2,0c11.2,0,28.4,5.9,37.5,5.9c0.7,0,1.4,0,2.1-0.1c8.6-1.2,19.6-3.7,25.3-8.9s3.2-10.3,7.9-15.6c4.7-5.2,9.2-8.6,16-14.8c6.7-6.2,7.4-10.7,7.4-18.3s-4.7-16.6-14.1-21.5c-9.4-4.9-12.8-6.7-23.5-7.8c-10.7-1-19.9-15.9-34.6-18c-3.7-0.5-6.3-0.7-8.4-0.7c-4.5,0-5.8,0.9-8.8,0.9c-0.9,0-2-0.1-3.4-0.3C100.9,12.9,98.5,8.3,87.2,8.3L87.2,8.3z"/></svg>'

        // number_array.push(shape1, '', '', '');

        number_array.push('Thursday', 'Monday', 'Sunday', 'Tuesday', 'Saturday', 'Friday', 'Wednesday');
        fadein_bg();
        addTextTimer();
      }, 196000);
      setTimeout(function () {
        blackout();
        //clearTimeout(timer3);
      }, 300000);
    }

  </script>

</body>

</html>
