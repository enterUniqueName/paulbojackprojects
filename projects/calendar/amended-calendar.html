<!DOCTYPE html>

<html lang="en" dir="ltr">

<head>

  <meta charset="utf-8">
  <title>Paul Bojack Projects: Your Amended Calendar</title>

  <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
  <link href='../global.css' rel='stylesheet'>
  <link href='amended-calendar.css' rel='stylesheet'>

</head>

<body>

  <!-- home button -->
  <div id="home" class="home">

    <a href="javascript:history.back()">‚Üê</a>

  </div>

  <!-- camera -->
  <div id="cam_container" class="cam_container">

    <video autoplay="true" id="cam_element" class="cam_element" value="true" onloadedmetadata="calendar_function()"></video>

    <audio id="audio_element" src="assets/audio/Amended Calendar Music_New_1.06.mp3" type="audio/mpeg"></audio>

  </div>  

  <!-- project area -->
  <div id="calendar_container">

    <div id="cal_grid" class="cal-grid">
      <!-- <div class="corner top left" style="border-right: none; border-bottom: none;">
        <svg>
          <line x1='0' y1='0' x2='100%' y2='100%' />
        </svg>
      </div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="corner top right" style="border-left: none; border-bottom: none;">
        <svg>
          <line x1='0' y1='100%' x2='100%' y2='0' />
        </svg>
      </div> -->

      <!-- <div  class="no-border-tb">&nbsp;</div> -->
      <div class="day no-border t l r">Thursday</div>
      <div class="day no-border t l r">Monday</div>
      <div class="day no-border t l r">Sunday</div>
      <div class="day no-border t l r">Tuesday</div>
      <div class="day no-border t l r">Saturday</div>
      <div class="day no-border t l r">Friday</div>
      <div class="day no-border t l r">Wednesday</div>
      <!-- <div class="no-border-tb">&nbsp;</div> -->

      <!-- <div class="no-border-tb">&nbsp;</div> -->
      <div class="no-border l">17</div>
      <div>24</div>
      <div>13</div>
      <div>6</div>
      <div>15</div>
      <div>30</div>
      <div class="no-border r">3</div>
      <!-- <div class="no-border-tb">&nbsp;</div> -->

      <!-- <div class="no-border-tb">&nbsp;</div> -->
      <div class="no-border l">19</div>
      <div>27</div>
      <div>4</div>
      <div>31</div>
      <div>12</div>
      <div>1</div>
      <div class="no-border r">20</div>
      <!-- <div class="no-border-tb">&nbsp;</div> -->

      <!-- <div class="no-border-tb">&nbsp;</div> -->
      <div class="no-border l">23</div>
      <div>5</div>
      <div>18</div>
      <div>29</div>
      <div>7</div>
      <div>10</div>
      <div class="no-border r">26</div>
      <!-- <div class="no-border-tb">&nbsp;</div> -->

      <!-- <div class="no-border-tb">&nbsp;</div> -->
      <div class="no-border l">14</div>
      <div>25</div>
      <div>9</div>
      <div>28</div>
      <div>16</div>
      <div>8</div>
      <div class="no-border r">22</div>
      <!-- <div class="no-border-tb">&nbsp;</div> -->

      <!-- <div class="no-border-tb">&nbsp;</div> -->
      <div class="no-border b l">2</div>
      <div class="no-border b">11</div>
      <div class="no-border b">21</div>
      <div class="no-border b">&nbsp;</div>
      <div class="no-border b">&nbsp;</div>
      <div class="no-border b">&nbsp;</div>
      <div class="no-border b r">&nbsp;</div>
      <!-- <div class="no-border-tb">&nbsp;</div> -->

      <!-- <div class="corner bottom left" style="border-right: none; border-top: none;">
        <svg>
          <line x1='0' y1='100%' x2='100%' y2='0' />
        </svg>
      </div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="no-border-lr">&nbsp;</div>
      <div class="corner bottom right" style="border-left: none; border-top: none;">
        <svg>
          <line x1='0' y1='0' x2='100%' y2='100%' />
        </svg>
      </div> -->
    </div>
  </div>





  <script>

    //webcam function
    var video = document.querySelector("#cam_element");

    if (navigator.mediaDevices.getUserMedia) {
      navigator.mediaDevices.getUserMedia({video:true})
      .then(function (stream) {
        video.srcObject = stream;
        document.querySelector("cam_container").value="false";
      })
      .catch(function (err0r) {
        console.log("Something went wrong!");
      });
    }

    //project specific scripts
    function fadein_bg() {
      document.getElementById("calendar_container").classList.add("fadein_bg");
    }
    function animate_color() {
      document.getElementById("cal_grid").classList.add("cal-grid-animation");
    }
    function blackout() {
      document.getElementById("calendar_container").classList.add("blackout");
      // Adding transition and opacity to the grid itself to fade with the blackout.
      document.getElementById("cal_grid").style.transition = "opacity 4s ease";
      document.getElementById("cal_grid").style.opacity = "0";
    }
    function playAudio() {
      document.getElementById("audio_element").play();
    }
    function reduceAudio1() {
      document.getElementById("audio_element").volume = 0.9;
    }
    function reduceAudio2() {
      document.getElementById("audio_element").volume = 0.7;
    }
    function reduceAudio3() {
      document.getElementById("audio_element").volume = 0.5;
    }
    function reduceAudio4() {
      document.getElementById("audio_element").volume = 0.3;
    }
    function reduceAudio5() {
      document.getElementById("audio_element").volume = 0.1;
    }
    function reduceAudio6() {
      document.getElementById("audio_element").volume = 0;
    }

    function calendar_function() {
      setTimeout(function () {
        playAudio();
      }, 3000);
      setTimeout(function () {
        fadein_bg();
        animate_color();
      }, 5000);
      setTimeout(function () {
        blackout();
      }, 56000);
      // Commented out timing for a much longer double loop.
      // setTimeout(function () {
      //   blackout();
      // }, 125000);
      // setTimeout(function () {
      //   reduceAudio1();
      // }, 126000);
      // setTimeout(function () {
      //   reduceAudio2();
      // }, 127000);
      // setTimeout(function () {
      //   reduceAudio3();
      // }, 128000);
      // setTimeout(function () {
      //   reduceAudio4();
      // }, 129000);
      // setTimeout(function () {
      //   reduceAudio5();
      // }, 130000);
      // setTimeout(function () {
      //   reduceAudio6();
      // }, 131000);
    }

  </script>

</body>

</html>
